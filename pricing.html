<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tarifs - Post Foot</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/pricing.css">

  <!-- Supabase SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body>

  <!-- Background -->
  <div class="bg-gradient"></div>
  <div class="bg-grid"></div>
  <div class="orb orb-1"></div>
  <div class="orb orb-2"></div>

  <!-- Content -->
  <div class="pricing-container content">

    <a href="selection.html" class="btn-back">← Retour</a>

    <!-- Header -->
    <div class="pricing-header">
      <h1 class="main-title">Choisissez votre offre</h1>
      <p class="subtitle">Creez des visuels professionnels pour votre club</p>
      <div class="promo-banner" id="promoBanner">-30% avec le code <strong>PF30</strong> pour les premiers clients</div>
    </div>

    <!-- Pricing Cards -->
    <div class="pricing-grid">

      <!-- Gratuit -->
      <div class="pricing-card" id="card-free">
        <div class="card-header">
          <h2 class="plan-name">Gratuit</h2>
          <div class="plan-price">
            <span class="price">0</span>
            <span class="currency">EUR</span>
            <span class="period">pour toujours</span>
          </div>
        </div>
        <ul class="features-list">
          <li><span class="check">OK</span> Tous les templates disponibles</li>
          <li><span class="check">OK</span> Exports illimites</li>
          <li><span class="check">OK</span> Entree manuelle des clubs</li>
          <li class="disabled"><span class="x">X</span> Base de donnees pre-remplie</li>
          <li class="disabled"><span class="x">X</span> Visuel personnalise</li>
        </ul>
        <a href="index.html" class="btn-plan btn-free">Commencer gratuitement</a>
      </div>

      <!-- Base de donnees -->
      <div class="pricing-card popular" id="card-pro">
        <div class="popular-badge">Populaire</div>
        <div class="card-header">
          <h2 class="plan-name">Base de donnees</h2>
          <div class="plan-price">
            <span class="price">39,99</span>
            <span class="currency">EUR</span>
            <span class="period">/an</span>
          </div>
          <div class="yearly-note">
            <span>soit 3,33EUR/mois</span>
          </div>
        </div>
        <ul class="features-list">
          <li><span class="check">OK</span> Tous les templates disponibles</li>
          <li><span class="check">OK</span> Exports illimites</li>
          <li><span class="check">OK</span> Base de donnees pre-remplie</li>
          <li><span class="check">OK</span> Logos, noms, abreviations inclus</li>
          <li class="disabled"><span class="x">X</span> Visuel personnalise</li>
        </ul>
        <a href="https://buy.stripe.com/bJe6oJeAO3f7av11qh2VG04" class="btn-plan btn-pro" target="_blank">S'abonner</a>
        <p class="plan-note">Disponible sous 7 jours apres souscription</p>
      </div>

      <!-- Premium -->
      <div class="pricing-card premium-card-style" id="card-premium">
        <div class="premium-badge">Premium</div>
        <div class="card-header">
          <h2 class="plan-name">Visuel personnalisé</h2>
          <div class="plan-price">
            <span class="price">99,99</span>
            <span class="currency">EUR</span>
            <span class="period">/an</span>
          </div>
          <div class="yearly-note">
            <span>soit 8,33EUR/mois</span>
          </div>
        </div>
        <ul class="features-list">
          <li><span class="check">OK</span> Tous les templates disponibles</li>
          <li><span class="check">OK</span> Exports illimites</li>
          <li><span class="check">OK</span> Base de donnees incluse</li>
          <li><span class="check">OK</span> Visuel personnalise pour votre club</li>
          <li><span class="check">OK</span> Support prioritaire</li>
        </ul>
        <a href="https://buy.stripe.com/6oUfZjcsG3f75aH8SJ2VG02" class="btn-plan btn-premium" target="_blank">S'abonner</a>
        <p class="plan-note plan-note-premium">Contactez-nous par <a href="mailto:mobyass.pdf@gmail.com">email</a> apres paiement</p>
      </div>

    </div>

    <!-- FAQ ou infos -->
    <div class="pricing-info">
      <p>Paiement unique - Acces valable 1 an</p>
    </div>

  </div>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="footer-content">
      <div class="footer-section">
        <h3>Post Foot</h3>
        <p>Creez des visuels post-match professionnels pour votre club de football. Partagez vos resultats sur les reseaux sociaux en quelques clics.</p>
      </div>
      <div class="footer-section">
        <h3>Contact</h3>
        <ul>
          <li>
            <a href="pricing.html" class="footer-link-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="1" y="4" width="22" height="16" rx="2" ry="2"/>
                <line x1="1" y1="10" x2="23" y2="10"/>
              </svg>
              Tarifs
            </a>
          </li>
          <li>
            <a href="mailto:mobyass.pdf@gmail.com" class="contact-link">
              <svg viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                <polyline points="22,6 12,13 2,6"/>
              </svg>
              Bug ou suggestions
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <span class="footer-version">v1.0</span>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="js/supabase-config.js"></script>
  <script src="js/auth.js"></script>
  <script>
    const cardFree = document.getElementById('card-free');
    const cardPro = document.getElementById('card-pro');
    const cardPremium = document.getElementById('card-premium');
    const pricingInfo = document.querySelector('.pricing-info');
    const promoBanner = document.getElementById('promoBanner');

    // Verifier l'etat de connexion
    (async () => {
      const session = await getSession();
      const isGuest = estModeInvite();

      if (session) {
        // Utilisateur connecte : afficher seulement Pro et Premium
        cardFree.style.display = 'none';
        pricingInfo.style.display = 'block';
      } else if (isGuest) {
        // Mode invite : afficher seulement Gratuit
        cardFree.style.display = 'block';
        cardPro.style.display = 'none';
        cardPremium.style.display = 'none';
        promoBanner.style.display = 'none';
        pricingInfo.innerHTML = '<p>Creez un compte pour acceder aux offres payantes</p>';
      } else {
        // Pas connecte, pas invite : afficher tout
        cardFree.style.display = 'block';
        cardPro.style.display = 'block';
        cardPremium.style.display = 'block';
      }
    })();
  </script>

</body>
</html>
